@startuml reservaveiculo
autonumber
title Processo de Reserva de Veículo - CarXpress

actor Cliente
participant "Sistema" as UI
participant "Base de Dados" as DB
participant "Classe Cliente" as Cliente
participant "Classe Veículo" as Veiculo
participant "Classe Aluguer" as Aluguer
participant "Classe Orçamento" as Orcamento

Cliente -> UI : solicitarReserva(IDVeiculo, IDCliente, Data)

UI -> Cliente : verificarCliente(IDCliente)
Cliente -> UI : retornarStatusCliente()

UI -> Veiculo : verificarDisponibilidade(IDVeiculo)
Veiculo -> UI : retornarDisponibilidade()

alt Veículo Disponível
    UI -> Aluguer : criarAluguer(IDVeiculo, IDCliente, Data)
    Aluguer -> DB : armazenarAluguer(IDAluguer)

    UI -> Orcamento : criarOrcamento(IDAluguer, ValorReserva)
    Orcamento -> DB : armazenarOrcamento(IDOrcamento)

    Veiculo -> DB : atualizarEstado(IDVeiculo, "Reservado")

    UI -> Cliente : confirmarReserva(IDAluguer, IDOrcamento)
else Veículo Indisponível
    UI -> Cliente : informarIndisponibilidade()
end alt

@enduml